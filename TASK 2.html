<!doctype html>
<html>
  <head>
    <title>Lab 4: Task 2</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <style>
      #boxes { margin-top: 50px; float: left; width: 100%; }
      #toggles { float: left; width: 100%; margin-top: 10px; }
      #info { float: left; margin-top: 5px; }
      .box { width: 50px; height: 50px; float: left; background-color: white; } /* Default background color set to white */
      .outlined { border: 2px solid black; }
      .round-edge { border-radius: 15px; }
      .cardinal { background-color: #C41E3A; } /* Cardinal color */
    </style>
    <script src="https://code.jquery.com/jquery-3.1.1.js" integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA=" crossorigin="anonymous"></script>

    <script>
    $(document).ready(function(){
      var colorTeal = 'rgb(0, 128, 128)';

      // Toggle colors between white and cardinal
      $('#button_toggle_colors').click(function() {
        $('.box').each(function() {
          if ($(this).css('background-color') === 'rgb(255, 255, 255)') {
            $(this).css('background-color', 'rgb(196, 30, 58)'); // Cardinal
          } else {
            $(this).css('background-color', 'rgb(255, 255, 255)'); // White
          }
        });
      });

      // Toggle rounded edges
      $('#button_toggle_roundedges').click(function() {
        $(".box").each(function(){
          if($(this).hasClass('round-edge')){
            $(this).removeClass('round-edge');
          } else {
            $(this).addClass('round-edge');
          }
        });
      });

      // Add a new box to the container and show only one random box
      $('#button_add_box').click(function() {
        var new_box = document.createElement('div');
        var existingBoxes = $(".box").length;
        var nextBoxId = existingBoxes + 1;
        $(new_box).attr("id", "box" + nextBoxId);
        $(new_box).addClass("box outlined");
        $("#boxes").append(new_box);

        // Hide all boxes
        $('.box').hide();

        // Select one random box and show it
        var boxes = $('.box');
        var randomIndex = Math.floor(Math.random() * boxes.length);
        boxes.eq(randomIndex).show();
      });

      // Add button_toggle_color click function for box1
      $('#button_toggle_colors').click(function(){
        var box1 = $('#box1');
        
        if($(box1).css('background-color') == colorTeal){ 
          $(box1).css('background-color','');
        } else {
          $(box1).css('background-color',colorTeal);
        }
      });
    });
    </script>
  </head>
  <body>
    <div class="container">
      <div id="boxes">
        <div id="box1" class="box outlined"></div>
        <div id="box2" class="box outlined"></div>
        <div id="box3" class="box outlined"></div>
      </div>

      <div id="toggles">
        <h2>Toggles</h2>
        <button class="btn" id="button_toggle_colors">Toggle Colors</button>
        <button class="btn" id="button_toggle_roundedges">Toggle Rounded Borders</button>
        <button class="btn" id="button_add_box">Add a New Box</button>
      </div>
    </div>
  </body>
</html>
